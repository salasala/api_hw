<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>map</title>
    <style>
        body {
      width: 100%;
      height: 100%;
    }
    </style>
</head>
<body>

    <div id="view"></div>
  <div id="myMap" style="width:50%;height:50%;"></div>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <script src='https://www.bing.com/api/maps/mapcontrol?callback=GetMap&key='
    async defer></script>
    <script src="js/https:/code.jquery.com/file:/Users/yoyobook/Desktop/gs_map/map/sample_map/js/BmapQuery.js"></script>
<script>

console.log(1)
let map;

    function mapsInit(position) {
    
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;

    
      map = new Bmap("#myMap");
      map.startMap(lat, lon, "load", 20); 
     
      let pin = map.pin(lat, lon, "#ff0000");
    
      map.infobox(lat, lon, "タイトル", "詳細情報を記載");
    };
console.log(2)
function mapsError(error) {
      let e = "";
      if (error.code == 1) { 
        e = "位置情報が許可されてません";
      }
      if (error.code == 2) { 
        e = "位置を特定できません";
      }
      if (error.code == 3) { 
        e = "位置情報を取得する前にタイムアウトになりました";
      }
      alert("エラー：" + e);
    };
console.log(3)
    const set = {
      enableHighAccuracy: true, 
      maximumAge: 20000, 
      timeout: 10000 
    };
console.log(4)    
    function GetMap() {
      navigator.geolocation.getCurrentPosition(mapsInit, mapsError, set);
    }
</script>



</body>
</html>